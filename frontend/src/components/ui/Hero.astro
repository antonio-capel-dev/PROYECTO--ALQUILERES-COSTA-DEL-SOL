---
import Icon from "./Icon.astro";

interface Props {
  titulo: string;
  imagen: string;
  subtitulo?: string;
  badge?: string;
  altura?: "completa" | "media" | "compacta";
  clase?: string;
}

const {
  titulo,
  imagen,
  subtitulo,
  badge,
  altura = "media",
  clase = "",
} = Astro.props;

const alturas = {
  completa: "h-screen min-h-[600px]",
  media: "h-[55vh] min-h-[400px]",
  compacta: "h-[35vh] min-h-[300px]",
};
---

<section
  class={`relative flex items-center justify-center overflow-hidden bg-primario ${alturas[altura]} ${clase}`}
>
  {/* IMAGEN DE FONDO */}
  <img
    src={imagen}
    alt={titulo}
    class="absolute inset-0 w-full h-full object-cover"
    loading="eager"
  />

  {/* OVERLAY */}
  <div class="absolute inset-0 bg-black/40 z-10 w-full h-full"></div>

  {/* CONTENIDO */}
  <div
    class="relative z-20 text-center px-4 max-w-5xl mx-auto animate-fade-in-up"
  >
    {
      badge && (
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 text-white text-xs font-bold uppercase tracking-wider mb-6">
          <Icon name="map-pin" class="w-3.5 h-3.5" aria-hidden="true" />
          {badge}
        </div>
      )
    }

    <h1
      class="text-4xl md:text-6xl lg:text-7xl font-black text-white mb-6 leading-tight drop-shadow-2xl"
    >
      <Fragment set:html={titulo} />
    </h1>

    {
      subtitulo && (
        <p class="text-lg md:text-2xl text-fondo-claro font-medium drop-shadow-md max-w-3xl mx-auto">
          <Fragment set:html={subtitulo} />
        </p>
      )
    }

    <slot />
  </div>
</section>
